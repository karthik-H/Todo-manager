{
  "task_addition": {
    "implementation": [
      {
        "id": "TaskForm_component_frontend_src_components_TaskForm_tsx",
        "name": "TaskForm",
        "file_path": "frontend/src/components/TaskForm.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "UI component that collects user input for a new task, including title, description, priority, and due date, and triggers the onSubmit handler with this data.",
        "pseudo_code": "Display a form with fields: title (required), description, priority (dropdown), category (dropdown), due date (date picker)\nOn form submit:\n    Prevent default form submission\n    Call onSubmit with an object containing:\n        title\n        description (if provided)\n        priority\n        category (if provided)\n        due_date (if provided)\n        completed (default false for new task)\n"
      },
      {
        "id": "handleCreateTask_function_frontend_src_App_tsx",
        "name": "handleCreateTask",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "Handles the submission of a new task from TaskForm, calls the API to create the task, reloads the task list, and closes the form.",
        "pseudo_code": "When called with taskData:\n    Try:\n        Call api.createTask(taskData)\n        Reload tasks from backend\n        Close the TaskForm modal\n    Catch error:\n        Show alert 'Failed to create task'\n"
      },
      {
        "id": "api_createTask_function_frontend_src_api_ts",
        "name": "api.createTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends a POST request to the backend /tasks endpoint with the new task data.",
        "pseudo_code": "Send POST request to `${API_URL}/tasks` with JSON body containing task data\nIf response is not OK:\n    Throw error\nReturn the created task from the response\n"
      },
      {
        "id": "create_task_endpoint_backend_main_py",
        "name": "create_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint that receives the new task data, validates it, and passes it to the database layer to be saved.",
        "pseudo_code": "On POST /tasks with TaskCreate payload:\n    Call database.add_task(task)\n    Return the created Task\n"
      },
      {
        "id": "add_task_function_backend_database_py",
        "name": "add_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Creates a new Task object with a unique ID, saves it to the persistent storage, and returns it.",
        "pseudo_code": "Get current list of tasks\nCreate new Task with unique id and fields from TaskCreate\nAppend new Task to tasks list\nSave updated tasks list to file\nReturn new Task\n"
      }
    ],
    "missing_implementations": []
  },
  "task_editing": {
    "implementation": [
      {
        "id": "TaskItem_onEdit_button",
        "name": "onEdit (Edit button in TaskItem component)",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "The Edit button in the TaskItem component triggers the onEdit callback, passing the current task to the parent component. This is the user's entry point for editing an existing task.",
        "pseudo_code": "When the Edit button is clicked:\n    Call onEdit(task) with the current task as argument"
      },
      {
        "id": "App_openEdit_function",
        "name": "openEdit",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "The openEdit function in App receives the task from TaskItem's onEdit, sets it as the editingTask, and opens the TaskForm modal for editing.",
        "pseudo_code": "function openEdit(task):\n    set editingTask to task\n    set isFormOpen to true"
      },
      {
        "id": "App_TaskForm_component_usage",
        "name": "TaskForm (with initialTask and onSubmit)",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "When editingTask is set, TaskForm is rendered with initialTask and onSubmit set to handleUpdateTask. This displays the form pre-filled with the task's details for editing.",
        "pseudo_code": "If isFormOpen is true:\n    Render TaskForm with:\n        initialTask = editingTask\n        onSubmit = handleUpdateTask\n        onCancel = function to close form and clear editingTask"
      },
      {
        "id": "App_handleUpdateTask_function",
        "name": "handleUpdateTask",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "handleUpdateTask is called when the TaskForm is submitted in edit mode. It calls the API to update the task, reloads the task list, and closes the form.",
        "pseudo_code": "function handleUpdateTask(taskData):\n    If editingTask is null:\n        return\n    Try:\n        Call api.updateTask(editingTask.id, taskData)\n        Reload tasks\n        Clear editingTask\n        Close form\n    Catch error:\n        Show error alert"
      },
      {
        "id": "api_updateTask_function",
        "name": "api.updateTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "api.updateTask sends a PUT request to the backend to update the task with the given id and new data.",
        "pseudo_code": "async function updateTask(id, task):\n    Send PUT request to /tasks/{id} with task data\n    If response is not OK:\n        Throw error\n    Return updated task from response"
      }
    ],
    "missing_implementations": []
  },
  "task_deletion": {
    "implementation": [
      {
        "id": "TaskItem_handleDelete",
        "name": "handleDelete",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "This function is triggered when the user clicks the Delete button for a task. It shows a confirmation prompt using window.confirm. If the user confirms, it calls the onDelete prop with the task id.",
        "pseudo_code": "function handleDelete():\n    IF user confirms deletion (window.confirm)\n        THEN call onDelete(task.id)"
      },
      {
        "id": "App_handleDeleteTask",
        "name": "handleDeleteTask",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "This function is passed as the onDelete prop to TaskItem. When called, it calls the API to delete the task and updates the local state to remove the task from the list.",
        "pseudo_code": "async function handleDeleteTask(id):\n    TRY\n        await api.deleteTask(id)\n        setTasks(tasks without the deleted task)\n    CATCH error\n        alert('Failed to delete task')"
      }
    ],
    "missing_implementations": []
  },
  "task_status_update": {
    "implementation": [
      {
        "id": "TaskItem_onToggleComplete",
        "name": "TaskItem (onToggleComplete)",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "The TaskItem component renders each task and provides a button to mark it as completed or pending. When the button is clicked, it calls the onToggleComplete callback with the task object.",
        "pseudo_code": "When the user clicks the 'Done' or 'Undo' button:\n    Call onToggleComplete(task)\n    // The button label and tooltip change based on task.completed"
      },
      {
        "id": "App_handleToggleComplete",
        "name": "handleToggleComplete",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "This function is passed as the onToggleComplete prop to TaskItem. It toggles the completed status of the task by calling the API to update the task, then reloads the task list.",
        "pseudo_code": "Function handleToggleComplete(task):\n    Try:\n        Call api.updateTask(task.id, {...task, completed: !task.completed})\n        Reload the task list\n    Catch error:\n        Show alert 'Failed to update task status'"
      },
      {
        "id": "api_updateTask",
        "name": "api.updateTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "This function sends a PUT request to the backend to update the task, including its completed status.",
        "pseudo_code": "Function updateTask(id, task):\n    Send PUT request to /tasks/{id} with updated task data\n    If response is not OK:\n        Throw error\n    Return updated task from response"
      },
      {
        "id": "backend_update_task_endpoint",
        "name": "update_task (FastAPI endpoint)",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "This is the backend API endpoint that receives the update request. It calls the database layer to update the task and returns the updated task.",
        "pseudo_code": "Endpoint PUT /tasks/{task_id}:\n    Call database.update_task(task_id, task)\n    If no task found:\n        Raise 404 error\n    Return updated task"
      },
      {
        "id": "database_update_task",
        "name": "update_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "This function updates the task in the persistent storage (tasks.json). It replaces the task with the new data, including the completed status.",
        "pseudo_code": "Function update_task(task_id, task_update):\n    Load all tasks\n    For each task in tasks:\n        If task.id == task_id:\n            Replace with updated task (including completed field)\n            Save all tasks\n            Return updated task\n    If not found:\n        Return None"
      }
    ],
    "missing_implementations": []
  },
  "task_categorization": {
    "implementation": [],
    "missing_implementations": [
      "Allows the user to assign categories to tasks (e.g., Work, Personal, Study)."
    ]
  },
  "task_filtering": {
    "implementation": [
      {
        "id": "App_component",
        "name": "App",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Main component that manages the state for tasks, filter status, and renders the UI for filtering tasks by status. It holds the filterStatus state, provides the dropdown for selecting status, and computes filteredTasks based on the selected status.",
        "pseudo_code": "Initialize filterStatus state as 'all'\nWhen user selects a status from the dropdown, update filterStatus\nCompute filteredTasks:\n    For each task in tasks:\n        If filterStatus is 'completed', include only completed tasks\n        If filterStatus is 'pending', include only pending tasks\n        If filterStatus is 'all', include all tasks\nRender the filteredTasks list"
      },
      {
        "id": "filteredTasks_logic",
        "name": "filteredTasks",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "Inline filtering logic in App component that applies the filterStatus to the list of tasks. This is the core logic that implements the filtering requirement.",
        "pseudo_code": "filteredTasks = tasks.filter(task =>\n    if filterStatus == 'completed':\n        return task.completed\n    else if filterStatus == 'pending':\n        return not task.completed\n    else:\n        return true\n)"
      },
      {
        "id": "filter_dropdown",
        "name": "Status Filter Dropdown",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "The <select> dropdown in the App component UI allows the user to choose between All, Pending, or Completed. Changing this updates filterStatus, which triggers the filtering logic.",
        "pseudo_code": "Render a <select> element with options:\n    - All Status (value='all')\n    - Pending (value='pending')\n    - Completed (value='completed')\nOn change, set filterStatus to the selected value"
      },
      {
        "id": "TaskItem_component",
        "name": "TaskItem",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Displays each task, including its completed status. The button allows toggling between completed and pending, which can affect the filter if the status changes.",
        "pseudo_code": "For each task in filteredTasks:\n    Render task details\n    Show button:\n        If task.completed is true:\n            Button says 'Undo' (mark as pending)\n        Else:\n            Button says 'Done' (mark as completed)\n    On button click, call onToggleComplete"
      },
      {
        "id": "handleToggleComplete_function",
        "name": "handleToggleComplete",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "Handles toggling a task's completed status. When a task is marked as completed or pending, it updates the backend and reloads tasks, which may change the filtered list.",
        "pseudo_code": "When called with a task:\n    Send update to backend to toggle task.completed\n    Reload tasks from backend\n    (filteredTasks will update based on new status)"
      }
    ],
    "missing_implementations": []
  },
  "task_sorting": {
    "implementation": [
      {
        "id": "App_filteredTasks_sort",
        "name": "filteredTasks (sort logic in App component)",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Implements the sorting of tasks by due date or priority based on the user's selection. The sort logic is applied to the list of tasks before rendering.",
        "pseudo_code": "For each task in tasks:\n    If filterStatus is 'completed', include only completed tasks\n    If filterStatus is 'pending', include only pending tasks\n    Otherwise, include all tasks\nSort the filtered tasks:\n    If sortOption is 'dueDate':\n        Place tasks without due_date at the end\n        Otherwise, sort by ascending due_date\n    If sortOption is 'priority':\n        Map priorities to numbers (High=0, Medium=1, Low=2)\n        Sort by ascending mapped value\nReturn the sorted and filtered list"
      },
      {
        "id": "App_sortOption_select",
        "name": "Sort Option Select Dropdown",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Provides the UI for the user to select the sorting method (by due date or priority). Changing the selection updates the sortOption state, which triggers the sorting logic.",
        "pseudo_code": "Render a select dropdown with options:\n    - 'Sort by Due Date'\n    - 'Sort by Priority'\nWhen the user selects an option:\n    Update the sortOption state\n    This causes the filteredTasks to be re-sorted accordingly"
      }
    ],
    "missing_implementations": []
  },
  "responsive_design": {
    "implementation": [],
    "missing_implementations": []
  },
  "completed_task_indicator": {
    "implementation": [
      {
        "id": "component_TaskItem",
        "name": "TaskItem",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "This React component visually distinguishes completed tasks by applying a faded opacity to the card, a line-through style to the task title, and toggling the button label and style between 'Done' and 'Undo' based on the task's completed status.",
        "pseudo_code": "For each task:\n    If task.completed is true:\n        - Set card opacity to 0.7\n        - Add 'opacity-50' class to card\n        - Render task title with line-through text decoration\n        - Set button label to 'Undo' and style to 'btn-ghost'\n        - Set button title to 'Mark as pending'\n    Else:\n        - Set card opacity to 1\n        - Render task title with normal text\n        - Set button label to 'Done' and style to 'btn-primary'\n        - Set button title to 'Mark as completed'\n    Render priority and category badges\n    Render description and due date if present\n    Provide buttons for toggling completion, editing, and deleting"
      }
    ],
    "missing_implementations": []
  },
  "empty_state_message": {
    "implementation": [],
    "missing_implementations": []
  },
  "task_persistence": {
    "implementation": [
      {
        "id": "App_component",
        "name": "App",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Main React component that loads tasks on mount, displays them, and triggers CRUD operations. It ensures tasks are fetched from the backend (which persists them) after page refresh.",
        "pseudo_code": "On component mount:\n  Call loadTasks()\n\nfunction loadTasks():\n  Call api.getTasks()\n  Set tasks state with fetched data\n\nfunction handleCreateTask(taskData):\n  Call api.createTask(taskData)\n  Reload tasks\n\nfunction handleUpdateTask(taskData):\n  Call api.updateTask(editingTask.id, taskData)\n  Reload tasks\n\nfunction handleDeleteTask(id):\n  Call api.deleteTask(id)\n  Remove task from state\n\nfunction handleToggleComplete(task):\n  Call api.updateTask(task.id, {...task, completed: !task.completed})\n  Reload tasks"
      },
      {
        "id": "api_getTasks_function",
        "name": "api.getTasks",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Fetches the list of tasks from the backend API, which is called on page load and after any CRUD operation to ensure the UI reflects persisted data.",
        "pseudo_code": "function getTasks():\n  Send GET request to /tasks endpoint\n  If response is OK:\n    Return parsed JSON data (list of tasks)\n  Else:\n    Throw error"
      },
      {
        "id": "api_createTask_function",
        "name": "api.createTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends a new task to the backend API to be persisted in the database. Called when a new task is created.",
        "pseudo_code": "function createTask(task):\n  Send POST request to /tasks with task data\n  If response is OK:\n    Return created task\n  Else:\n    Throw error"
      },
      {
        "id": "api_updateTask_function",
        "name": "api.updateTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends updated task data to the backend API to persist changes. Used for editing and toggling completion.",
        "pseudo_code": "function updateTask(id, task):\n  Send PUT request to /tasks/{id} with updated task data\n  If response is OK:\n    Return updated task\n  Else:\n    Throw error"
      },
      {
        "id": "api_deleteTask_function",
        "name": "api.deleteTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends a DELETE request to the backend API to remove a task from persistent storage.",
        "pseudo_code": "function deleteTask(id):\n  Send DELETE request to /tasks/{id}\n  If response is OK:\n    Return nothing\n  Else:\n    Throw error"
      }
    ],
    "missing_implementations": [
      "Tasks must be stored using browser local storage"
    ]
  },
  "task_search": {
    "implementation": [],
    "missing_implementations": [
      "No function or endpoint currently implements searching tasks by keyword. The /tasks endpoint (read_tasks) returns all tasks without filtering by keyword. There is no logic in the backend to filter tasks by a keyword in the title, description, or any other field."
    ]
  },
  "theme_toggle": {
    "implementation": [],
    "missing_implementations": [
      "Allows the user to toggle between dark mode and light mode."
    ]
  },
  "task_statistics": {
    "implementation": [
      {
        "id": "endpoint_get_tasks",
        "name": "read_tasks",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "This endpoint provides the list of all tasks. The statistics (total, completed, pending) can be derived from this list by the client or another service.",
        "pseudo_code": "Define GET /tasks endpoint\n    Call database.get_tasks()\n    Return the list of all tasks"
      },
      {
        "id": "function_get_tasks",
        "name": "get_tasks",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "This function loads all tasks from the persistent storage and returns them as a list. The statistics can be computed from this list.",
        "pseudo_code": "If tasks.json does not exist:\n    Return empty list\nOpen tasks.json\nTry to load JSON data\n    For each item in data:\n        Convert to Task object\n    Return list of Task objects\nIf JSON decode error:\n    Return empty list"
      }
    ],
    "missing_implementations": [
      "Statistics must include total tasks, completed tasks, and pending tasks."
    ]
  },
  "drag_and_drop_reordering": {
    "implementation": [],
    "missing_implementations": [
      "No drag-and-drop or task reordering logic is implemented in the codebase. There are no functions, components, or endpoints that handle drag events, drop events, or reordering of tasks. The UI components (TaskForm, TaskItem) do not contain any drag-and-drop handlers or logic, nor do they use any drag-and-drop libraries such as react-beautiful-dnd or react-dnd. The requirement for drag-and-drop task reordering is not implemented."
    ]
  }
}