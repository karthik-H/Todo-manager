{
  "manage_tasks": {
    "implementation": [
      {
        "id": "api_get_tasks",
        "name": "read_tasks",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint to fetch all tasks. Used by the frontend to display the list of tasks.",
        "pseudo_code": "When a GET request is made to /tasks:\n    Call database.get_tasks()\n    Return the list of tasks"
      },
      {
        "id": "db_get_tasks",
        "name": "get_tasks",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Reads tasks from the persistent storage (tasks.json) and returns them as Task objects.",
        "pseudo_code": "If tasks.json does not exist:\n    Return empty list\nOpen tasks.json\nTry to load JSON data\n    For each item, create a Task object\n    Return list of Task objects\nIf JSON decode fails:\n    Return empty list"
      },
      {
        "id": "api_create_task",
        "name": "create_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint to add a new task. Receives task details from frontend and stores them.",
        "pseudo_code": "When a POST request is made to /tasks with TaskCreate data:\n    Call database.add_task(task)\n    Return the created Task"
      },
      {
        "id": "db_add_task",
        "name": "add_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Creates a new Task object with a unique ID, adds it to the list, and saves to storage.",
        "pseudo_code": "Get all tasks\nCreate new Task with unique id and provided data\nAppend new Task to tasks list\nSave tasks list to file\nReturn new Task"
      },
      {
        "id": "api_update_task",
        "name": "update_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint to edit/update a task. Receives updated details and applies them.",
        "pseudo_code": "When a PUT request is made to /tasks/{task_id} with TaskCreate data:\n    Call database.update_task(task_id, task)\n    If no task found:\n        Raise 404 error\n    Return updated Task"
      },
      {
        "id": "db_update_task",
        "name": "update_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Finds the task by ID, updates its fields, saves the list, and returns the updated task.",
        "pseudo_code": "Get all tasks\nFor each task:\n    If task.id == task_id:\n        Create updated Task with new data\n        Replace in list\n        Save tasks\n        Return updated Task\nReturn None if not found"
      },
      {
        "id": "api_delete_task",
        "name": "delete_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint to delete a task. Called by frontend when user confirms deletion.",
        "pseudo_code": "When a DELETE request is made to /tasks/{task_id}:\n    Call database.delete_task(task_id)\n    If not successful:\n        Raise 404 error\n    Return success message"
      },
      {
        "id": "db_delete_task",
        "name": "delete_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Removes the task with the given ID from the list and saves the updated list.",
        "pseudo_code": "Get all tasks\nFilter out the task with the given id\nIf a task was removed:\n    Save tasks\n    Return True\nReturn False"
      },
      {
        "id": "component_task_form",
        "name": "TaskForm",
        "file_path": "frontend/src/components/TaskForm.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "UI form for adding or editing a task. Collects title, description, priority, due date, and category, and submits to backend.",
        "pseudo_code": "Display form fields for title, description, priority, category, due date\nOn submit:\n    Validate required fields (title)\n    Call onSubmit with task data"
      },
      {
        "id": "component_task_item",
        "name": "TaskItem",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Displays a single task with options to mark as completed/pending, edit, or delete. Shows confirmation prompt before deletion.",
        "pseudo_code": "Display task details (title, description, priority, category, due date)\nShow buttons for Done/Undo, Edit, Delete\nOn Delete button click:\n    Show confirmation dialog\n    If confirmed, call onDelete"
      }
    ],
    "missing_implementations": [
      "Task must have a description, priority, and due date when added (currently only title is required in the frontend form; backend allows optional description, priority, due date)",
      "Tasks can be marked as Completed or Pending (UI allows toggling, but backend does not provide a dedicated endpoint for status update; status is updated via full task update)",
      "Task must have a description, priority, and due date when added (backend TaskCreate model allows these fields to be optional)"
    ]
  },
  "browse_organize_tasks": {
    "implementation": [
      {
        "id": "App_component",
        "name": "App",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Main UI component that loads tasks, manages state, and provides UI controls for filtering by status, sorting by due date or priority, and renders the task list. It also opens the TaskForm for adding/editing tasks.",
        "pseudo_code": "On mount:\n    Call loadTasks()\n\nloadTasks():\n    Fetch all tasks from API\n    Set tasks state\n\nUser interacts with filter/sort controls:\n    Update filterStatus or sortOption state\n\nfilteredTasks = tasks\n    Filter by status (all/completed/pending)\n    Sort by due date or priority\n\nRender:\n    Filter/sort controls\n    TaskForm (if open)\n    List of TaskItem for each filtered/sorted task"
      },
      {
        "id": "TaskForm_component",
        "name": "TaskForm",
        "file_path": "frontend/src/components/TaskForm.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Form UI for creating or editing a task. Allows user to set category, priority, due date, and other fields. Used by App for adding/editing tasks.",
        "pseudo_code": "Display form fields:\n    Title (required)\n    Description\n    Priority (Low/Medium/High)\n    Category (Work/Personal/Study/None)\n    Due Date\n\nOn submit:\n    Call onSubmit with task data"
      },
      {
        "id": "TaskItem_component",
        "name": "TaskItem",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Displays a single task with its category, priority, due date, and status. Provides buttons to mark complete, edit, or delete. Used by App to render each task in the list.",
        "pseudo_code": "Display:\n    Title (strikethrough if completed)\n    Priority badge\n    Category badge (if present)\n    Description (if present)\n    Due date (if present)\n    Buttons: Done/Undo, Edit, Delete\n\nOn button click:\n    Call appropriate handler (toggle complete, edit, delete)"
      }
    ],
    "missing_implementations": [
      "Tasks can be searched by keyword.",
      "Tasks can be categorized (e.g., Work, Personal, Study) - while category can be set and displayed, there is no UI to filter or organize by category."
    ]
  },
  "user_interface_experience": {
    "implementation": [
      {
        "id": "main_tsx_render_app",
        "name": "createRoot(...).render(<App />)",
        "file_path": "frontend/src/main.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "Bootstraps the React application and renders the App component, which contains the UI logic for task management and user interface experience.",
        "pseudo_code": "Import App component\nCreate React root at #root element\nRender <App /> inside <StrictMode>"
      },
      {
        "id": "app_component",
        "name": "App",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Main UI component. Handles loading, filtering, sorting, and displaying tasks. Manages state for tasks, form visibility, and editing. Renders TaskForm and TaskItem components. Implements empty-state messaging and task status filtering.",
        "pseudo_code": "Initialize state: tasks, isFormOpen, editingTask, isLoading, filterStatus, sortOption\nOn mount, load tasks from API\nDefine handlers for create, update, delete, toggle complete\nFilter and sort tasks based on user selection\nIf loading, show loading message\nIf no tasks, show empty-state message\nElse, render TaskItem for each filtered task\nShow TaskForm modal for adding/editing tasks"
      },
      {
        "id": "taskitem_component",
        "name": "TaskItem",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Displays individual task details. Provides visual indicators for completed tasks (opacity, line-through, button state). Shows priority and category badges. Handles confirmation prompt for deletions and calls parent handlers for toggling completion, editing, and deleting.",
        "pseudo_code": "Receive task and handlers as props\nDefine handleDelete: show confirm dialog, call onDelete if confirmed\nRender card with:\n  - Title (line-through if completed)\n  - Priority badge\n  - Category badge (if present)\n  - Description (if present)\n  - Due date (if present)\n  - Buttons: Done/Undo, Edit, Delete\n  - Visual indicator: opacity and line-through if completed"
      },
      {
        "id": "taskform_component",
        "name": "TaskForm",
        "file_path": "frontend/src/components/TaskForm.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Form for adding or editing tasks. Provides responsive form fields for all task properties. Used in a modal overlay for both desktop and mobile. Calls parent handlers on submit or cancel.",
        "pseudo_code": "Receive initialTask, onSubmit, onCancel as props\nInitialize form state from initialTask or defaults\nOn submit, call onSubmit with form data\nRender form with fields:\n  - Title (required)\n  - Description\n  - Priority (select)\n  - Category (select)\n  - Due Date (date input)\n  - Cancel and Save buttons"
      }
    ],
    "missing_implementations": [
      "Design must be responsive for desktop and mobile devices."
    ]
  },
  "persist_task_data": {
    "implementation": [
      {
        "id": "App_component",
        "name": "App",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Main React component that loads tasks from the backend API on mount and after any modification, ensuring tasks persist across page refreshes.",
        "pseudo_code": "On component mount:\n  Call loadTasks()\n\nFunction loadTasks():\n  Try:\n    Call api.getTasks()\n    Set tasks state with fetched data\n  Catch error:\n    Log error\n  Finally:\n    Set loading state to false\n\nOn create/update/delete/toggle-complete:\n  Call corresponding api method\n  Reload tasks by calling loadTasks()"
      },
      {
        "id": "api_getTasks_function",
        "name": "api.getTasks",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Fetches the list of tasks from the backend API. Called by App.loadTasks to retrieve persisted tasks from the backend.",
        "pseudo_code": "Function getTasks():\n  Send GET request to /tasks endpoint\n  If response is not OK:\n    Throw error\n  Return response JSON (list of tasks)"
      },
      {
        "id": "api_createTask_function",
        "name": "api.createTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends a new task to the backend API for storage. Called by App.handleCreateTask, which then reloads tasks to reflect persistence.",
        "pseudo_code": "Function createTask(task):\n  Send POST request to /tasks with task data\n  If response is not OK:\n    Throw error\n  Return response JSON (created task)"
      },
      {
        "id": "api_updateTask_function",
        "name": "api.updateTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends updated task data to the backend API for persistence. Called by App.handleUpdateTask and App.handleToggleComplete, which then reload tasks.",
        "pseudo_code": "Function updateTask(id, task):\n  Send PUT request to /tasks/{id} with updated task data\n  If response is not OK:\n    Throw error\n  Return response JSON (updated task)"
      },
      {
        "id": "api_deleteTask_function",
        "name": "api.deleteTask",
        "file_path": "frontend/src/api.ts",
        "type": "function",
        "How_is_it_connected_to_implementation": "Sends a delete request to the backend API to remove a task. Called by App.handleDeleteTask, which then updates the UI.",
        "pseudo_code": "Function deleteTask(id):\n  Send DELETE request to /tasks/{id}\n  If response is not OK:\n    Throw error"
      },
      {
        "id": "backend_read_tasks_endpoint",
        "name": "read_tasks",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint for GET /tasks. Calls database.get_tasks to retrieve all persisted tasks from the backend storage.",
        "pseudo_code": "Endpoint GET /tasks:\n  Return database.get_tasks()"
      },
      {
        "id": "backend_create_task_endpoint",
        "name": "create_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint for POST /tasks. Calls database.add_task to persist a new task.",
        "pseudo_code": "Endpoint POST /tasks:\n  Call database.add_task(task)\n  Return created task"
      },
      {
        "id": "backend_update_task_endpoint",
        "name": "update_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint for PUT /tasks/{task_id}. Calls database.update_task to persist changes to a task.",
        "pseudo_code": "Endpoint PUT /tasks/{task_id}:\n  Call database.update_task(task_id, task)\n  If not found:\n    Raise 404 error\n  Return updated task"
      },
      {
        "id": "backend_delete_task_endpoint",
        "name": "delete_task",
        "file_path": "backend/main.py",
        "type": "endpoint",
        "How_is_it_connected_to_implementation": "API endpoint for DELETE /tasks/{task_id}. Calls database.delete_task to remove a task from persistent storage.",
        "pseudo_code": "Endpoint DELETE /tasks/{task_id}:\n  Call database.delete_task(task_id)\n  If not found:\n    Raise 404 error\n  Return success message"
      },
      {
        "id": "database_get_tasks_function",
        "name": "get_tasks",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Reads all tasks from the persistent JSON file (tasks.json). Used by the backend to provide persisted tasks to the frontend.",
        "pseudo_code": "Function get_tasks():\n  If tasks.json does not exist:\n    Return empty list\n  Open tasks.json\n  Try:\n    Load JSON data\n    Return list of Task objects\n  Except JSON decode error:\n    Return empty list"
      },
      {
        "id": "database_save_tasks_function",
        "name": "save_tasks",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Writes the current list of tasks to the persistent JSON file (tasks.json). Called after any modification to tasks.",
        "pseudo_code": "Function save_tasks(tasks):\n  Open tasks.json for writing\n  Convert tasks to JSON-serializable format\n  Write JSON data to file"
      },
      {
        "id": "database_add_task_function",
        "name": "add_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Adds a new task to the list and persists it by saving to tasks.json.",
        "pseudo_code": "Function add_task(task_create):\n  Load tasks from file\n  Create new Task with unique id\n  Append new task to list\n  Save tasks to file\n  Return new task"
      },
      {
        "id": "database_update_task_function",
        "name": "update_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Updates an existing task and persists the change by saving to tasks.json.",
        "pseudo_code": "Function update_task(task_id, task_update):\n  Load tasks from file\n  For each task:\n    If id matches:\n      Replace with updated task\n      Save tasks to file\n      Return updated task\n  Return None if not found"
      },
      {
        "id": "database_delete_task_function",
        "name": "delete_task",
        "file_path": "backend/database.py",
        "type": "function",
        "How_is_it_connected_to_implementation": "Removes a task from the list and persists the change by saving to tasks.json.",
        "pseudo_code": "Function delete_task(task_id):\n  Load tasks from file\n  Remove task with matching id\n  If a task was removed:\n    Save tasks to file\n    Return True\n  Else:\n    Return False"
      }
    ],
    "missing_implementations": []
  },
  "preferences_and_insights": {
    "implementation": [
      {
        "id": "App_component_frontend_src_App_tsx",
        "name": "App",
        "file_path": "frontend/src/App.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Main application component. Manages the state for all tasks, filtering, and completion status. Handles the logic for displaying all tasks, completed tasks, and pending tasks. Provides the UI for task management.",
        "pseudo_code": "Initialize state: tasks, filterStatus, sortOption, isFormOpen, editingTask, isLoading\nOn mount, load tasks from API\nDefine handlers for creating, updating, deleting, and toggling completion of tasks\nFilter and sort tasks based on user selection\nRender:\n  - Header and Add Task button\n  - TaskForm modal if open\n  - Filter and sort controls\n  - List of TaskItem components for each filtered task"
      },
      {
        "id": "TaskItem_component_frontend_src_components_TaskItem_tsx",
        "name": "TaskItem",
        "file_path": "frontend/src/components/TaskItem.tsx",
        "type": "component",
        "How_is_it_connected_to_implementation": "Represents a single task. Displays its completion status and provides a button to toggle between completed and pending. Used by App to render each task.",
        "pseudo_code": "Receive task and handlers as props\nDisplay task title, priority, category, description, due date\nShow completion status (opacity, line-through)\nButton to toggle completion status (calls onToggleComplete)\nButtons to edit or delete the task"
      },
      {
        "id": "handleToggleComplete_function_frontend_src_App_tsx",
        "name": "handleToggleComplete",
        "file_path": "frontend/src/App.tsx",
        "type": "function",
        "How_is_it_connected_to_implementation": "Handles toggling a task's completed status. Called when the user clicks the toggle button in TaskItem.",
        "pseudo_code": "Given a task:\n  Call API to update the task's completed status (toggle true/false)\n  Reload tasks from API"
      }
    ],
    "missing_implementations": [
      "Users can toggle between dark mode and light mode.",
      "Display statistics: total tasks, completed tasks, pending tasks."
    ]
  }
}